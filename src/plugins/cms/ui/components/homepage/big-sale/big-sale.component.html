<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Big Sale</title>
</head>
<body>
    <div class="card bigSaleContainer" *ngIf="bigSales.length">
        <div style="width:100%">
            <ul class="list-group list-group-flush">
                <li class="list-group-item">
                    <div class="card">
                        <input #fileInput1 type="file" style="display: none;" 
                            [disabled]="!(['UpdateCms'] | hasPermission)"
                            (change)="filePicked($event, displayImg1, 0)">
                        <button class="btn btn-primary image-button" 
                            [disabled]="!(['UpdateCms'] | hasPermission)"
                            (click)="selectAsset(0)">
                            Change Image
                        </button>
                        <div class="card-img">
                            <img #displayImg1 [src]="bigSales[0].banner" class="box-image" accept="image/**"/>
                        </div>
                        <ul class="list-group">
                            <li class="list-group-item">
                                <h4 class="card-title">Select Product</h4>
                                <!-- <vdr-product-selector-form-input class="input-field" 
                                [disabled]="!(['UpdateCms'] | hasPermission)"
                                    (productSelected)="selectProduct($event, 0)"></vdr-product-selector-form-input>
                                <div class="variant">
                                    <div class="thumb">
                                        <img [src]="bigSales[0].productAsset" width="32"/>
                                    </div>
                                    <div class="detail">
                                        <div>{{ bigSales[0].productVariantName }}</div>
                                        <div class="sku">{{ bigSales[0].sku }}</div>
                                    </div>
                                    <div class="flex-spacer"></div>
                                </div> -->
                                <button (click)="select(0)" 
                                    class="btn btn-sm btn-secondary">
                                    {{ 'common.items-selected-count' | translate: { count: bigSales[0].productVariantId !== "" ? 1 : 0 } }}...
                                </button>
                                <button class="btn btn-sm circular-button" 
                                    [attr.disabled]="(bigSales[0].productVariantId === ''?'disabled':null)"
                                    (click)="clearProductSelection(0)">
                                    <clr-icon shape="times"></clr-icon>
                                </button>
                            </li>
                            <li class="list-group-item">
                                <h4 class="card-title">Button Text</h4>
                                <input
                                        class="input-field"
                                        id="button"
                                        type="text"
                                        [disabled]="!(['UpdateCms'] | hasPermission)"
                                        [(ngModel)]="bigSales[0].buttonText"
                                        />
                            </li>
                        </ul>
                        <!-- <div class="card-footer">
                            
                        </div> -->
                    </div>
                </li>
                <li class="list-group-item">
                    <div class="card">
                        <input #fileInput2 type="file" style="display: none;" (change)="filePicked($event, displayImg2, 1)">
                        <button class="btn btn-primary image-button" 
                        [disabled]="!(['UpdateCms'] | hasPermission)"
                        (click)="selectAsset(1)">
                            Change Image
                        </button>
                        <div class="card-img">
                            <img #displayImg2 class="box-image" [src]="bigSales[1].banner" accept="image/**"/>
                        </div>
                        <ul class="list-group">
                            <li class="list-group-item">
                                <h4 class="card-title">Select Product</h4>
                                <!-- <vdr-product-selector-form-input class="input-field" [disabled]="!(['UpdateCms'] | hasPermission)"
                                    (productSelected)="selectProduct($event, 1)"></vdr-product-selector-form-input>
                                <div class="variant">
                                    <div class="thumb">
                                        <img [src]="bigSales[1].productAsset" width="32"/>
                                    </div>
                                    <div class="detail">
                                        <div>{{ bigSales[1].productVariantName }}</div>
                                        <div class="sku">{{ bigSales[1].sku }}</div>
                                    </div>
                                    <div class="flex-spacer"></div>
                                </div> -->
                                <button (click)="select(1)" 
                                    class="btn btn-sm btn-secondary">
                                    {{ 'common.items-selected-count' | translate: { count: bigSales[1].productVariantId !== "" ? 1 : 0 } }}...
                                </button>
                                <button class="btn btn-sm circular-button" 
                                    [attr.disabled]="(bigSales[1].productVariantId === ''?'disabled':null)"
                                    (click)="clearProductSelection(1)">
                                    <clr-icon shape="times"></clr-icon>
                                </button>
                            </li>
                            <li class="list-group-item">
                                <h4 class="card-title">Button Text</h4>
                                <input
                                        class="input-field"
                                        id="button"
                                        type="text"
                                        [disabled]="!(['UpdateCms'] | hasPermission)"
                                        [(ngModel)]="bigSales[1].buttonText"
                                        />
                            </li>
                        </ul>
                        <!-- <div class="card-footer">
                           
                        </div> -->
                    </div>
                </li>
                <li class="list-group-item">
                    <div class="card">
                        <input #fileInput3 type="file" style="display: none;" (change)="filePicked($event, displayImg3, 2)">
                        <button class="btn btn-primary image-button" 
                            [disabled]="!(['UpdateCms'] | hasPermission)"
                            (click)="selectAsset(2)">
                                Change Image
                        </button>
                        <div class="card-img">
                            <img #displayImg3 class="box-image" [src]="bigSales[2].banner" accept="image/**"/>
                        </div>
                        <ul class="list-group">
                            <li class="list-group-item">
                                <h4 class="card-title">Select Product</h4>
                                <!-- <vdr-product-selector-form-input class="input-field" [readonly]="!(['UpdateCms'] | hasPermission)"
                                    (productSelected)="selectProduct($event, 2)"></vdr-product-selector-form-input> -->
                                <button (click)="select(2)" 
                                    class="btn btn-sm btn-secondary">
                                    {{ 'common.items-selected-count' | translate: { count: bigSales[2].productVariantId !== "" ? 1 : 0 } }}...
                                </button>
                                <button class="btn btn-sm circular-button" 
                                    [attr.disabled]="(bigSales[2].productVariantId === ''?'disabled':null)"
                                    (click)="clearProductSelection(2)">
                                    <clr-icon shape="times"></clr-icon>
                                </button>
                            </li>
                            <li class="list-group-item">
                                <h4 class="card-title">Button Text</h4>
                                <input
                                        class="input-field"
                                        id="button"
                                        type="text"
                                        [disabled]="!(['UpdateCms'] | hasPermission)"
                                        [(ngModel)]="bigSales[2].buttonText"
                                        />
                            </li>
                        </ul>
                        <!-- <div class="card-footer">
                            
                        </div> -->
                    </div>
                </li>
            </ul>
            <div class="card-footer">
                <button class="btn btn-sm btn-outline-primary" (click)="update()"
                [disabled]="!(['UpdateCms'] | hasPermission)">Update</button>
            </div>
        </div>
    </div>
</body>
</html>
